<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NEXO â€“ Il mio spazio personale</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- TOPBAR CLASSICA -->
  <header class="topbar">
    <div class="logo">NEXO</div>
    <nav class="menu">
      <a href="#top">Home</a>
      <a href="galleria.html">Galleria</a>
      <a href="#contenuti">Video</a>
    </nav>
  </header>

  <main id="top">

    <!-- HERO CLASSICO -->
    <section class="section hero">
      <div class="section-inner">
        <span class="tagline">NEXO Â· HUB PERSONALE</span>
        <h1>Benvenuto su NEXO</h1>
        <p class="hero-text">
          Un luogo dove raccolgo pensieri, esperienze, prove, video e tutto quello che ho voglia di salvare.
        </p>
      </div>
    </section>

    <!-- INTRO GALLERIA -->
    <section class="section" id="chi">
      <div class="section-inner">
        <h2>I miei viaggi e le mie foto</h2>
        <p>
          Ho dedicato una pagina separata alla galleria: lÃ¬ metto tutte le foto dei miei viaggi e momenti speciali.
        </p>
        <p style="margin-top:10px;">
          Vai qui: <a href="galleria.html">apri la Galleria foto</a>
        </p>
      </div>
    </section>

    <!-- VIDEO -->
    <section class="section" id="contenuti">
      <div class="section-inner">
        <h2>Video</h2>
        <p>
          Qui raccolgo i miei video: Formula 1, crociere, simulatori di volo e molto altro.
        </p>

        <!-- --- VIDEO #1 ----------------------------------------------------- -->

        <div class="post-box">
          <h3>Formula 1 â€“ Imola</h3>
          <p>Rumore dei motori, atmosfera unica e inquadrature spettacolari.</p>

          <div class="video-wrapper">
            <iframe
              src="https://www.youtube.com/embed/Xl7S2kKIKPM"
              title="Formula 1 Imola"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>

          <div class="reactions">
            <span class="react" data-video="v1" data-react="fire">ðŸ”¥ <b class="count" data-video="v1" data-react="fire">0</b></span>
            <span class="react" data-video="v1" data-react="heart">ðŸ’™ <b class="count" data-video="v1" data-react="heart">0</b></span>
            <span class="react" data-video="v1" data-react="idea">ðŸ’¡ <b class="count" data-video="v1" data-react="idea">0</b></span>
          </div>

          <div class="comment-area">
            <h4>Commenti (solo nel tuo browser)</h4>
            <textarea class="comment-input" data-video="v1" placeholder="Scrivi un commento..."></textarea>
            <button class="add-comment" data-video="v1">Aggiungi commento</button>
            <ul class="comment-list" data-video="v1"></ul>
          </div>
        </div>

        <!-- --- VIDEO #2 ----------------------------------------------------- -->

        <div class="post-box">
          <h3>Crociera â€“ Momenti a bordo</h3>
          <p>Panorami, relax e il mare aperto.</p>

          <div class="video-wrapper">
            <iframe
              src="https://www.youtube.com/embed/SwPbBWkm-Q4"
              title="Video crociera"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>

          <div class="reactions">
            <span class="react" data-video="v2" data-react="fire">ðŸ”¥ <b class="count" data-video="v2" data-react="fire">0</b></span>
            <span class="react" data-video="v2" data-react="heart">ðŸ’™ <b class="count" data-video="v2" data-react="heart">0</b></span>
            <span class="react" data-video="v2" data-react="idea">ðŸ’¡ <b class="count" data-video="v2" data-react="idea">0</b></span>
          </div>

          <div class="comment-area">
            <h4>Commenti (solo nel tuo browser)</h4>
            <textarea class="comment-input" data-video="v2" placeholder="Scrivi un commento..."></textarea>
            <button class="add-comment" data-video="v2">Aggiungi commento</button>
            <ul class="comment-list" data-video="v2"></ul>
          </div>
        </div>

        <!-- --- VIDEO #3 ----------------------------------------------------- -->

        <div class="post-box">
          <h3>Flight Simulator â€“ Atterraggio a Palermo</h3>
          <p>Avvicinamento e atterraggio completo allâ€™aeroporto di Palermo.</p>

          <div class="video-wrapper">
            <iframe
              src="https://www.youtube.com/embed/OZW5abfD-uY"
              title="Flight Simulator Palermo"
              frameborder="0"
              allowfullscreen>
            </iframe>
          </div>

          <div class="reactions">
            <span class="react" data-video="v3" data-react="fire">ðŸ”¥ <b class="count" data-video="v3" data-react="fire">0</b></span>
            <span class="react" data-video="v3" data-react="heart">ðŸ’™ <b class="count" data-video="v3" data-react="heart">0</b></span>
            <span class="react" data-video="v3" data-react="idea">ðŸ’¡ <b class="count" data-video="v3" data-react="idea">0</b></span>
          </div>

          <div class="comment-area">
            <h4>Commenti (solo nel tuo browser)</h4>
            <textarea class="comment-input" data-video="v3" placeholder="Scrivi un commento..."></textarea>
            <button class="add-comment" data-video="v3">Aggiungi commento</button>
            <ul class="comment-list" data-video="v3"></ul>
          </div>
        </div>

      </div>
    </section>

    <footer class="footer">
      Â© 2025 NEXO â€“ spazio personale Â· Versione classica
    </footer>

  </main>

  <!-- SCRIPT: LIKE + COMMENTI -->
  <script>
    (function () {
      const STORAGE_KEY = "nexo_video_data";

      function loadStore() {
        try {
          return JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
        } catch (e) { return {}; }
      }

      function saveStore(data) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      }

      function ensure(data, id) {
        if (!data[id]) data[id] = { likes: {fire:0,heart:0,idea:0}, comments: [] };
      }

      document.addEventListener("DOMContentLoaded", () => {
        const store = loadStore();

        // like
        document.querySelectorAll(".count").forEach(span => {
          const v = span.dataset.video, r = span.dataset.react;
          ensure(store, v); span.textContent = store[v].likes[r];
        });

        document.querySelectorAll(".react").forEach(btn => {
          btn.addEventListener("click", () => {
            const v = btn.dataset.video, r = btn.dataset.react;
            ensure(store, v); store[v].likes[r]++;
            document.querySelector(`.count[data-video="${v}"][data-react="${r}"]`).textContent = store[v].likes[r];
            saveStore(store);
          });
        });

        // commenti
        document.querySelectorAll(".add-comment").forEach(btn => {
          btn.addEventListener("click", () => {
            const v = btn.dataset.video;
            const input = document.querySelector(`.comment-input[data-video="${v}"]`);
            const list = document.querySelector(`.comment-list[data-video="${v}"]`);
            if (!input.value.trim()) return;

            ensure(store, v);
            store[v].comments.push(input.value);

            const li = document.createElement("li");
            li.textContent = input.value;
            list.appendChild(li);

            input.value = "";
            saveStore(store);
          });
        });
      });
    })();
  </script>

</body>
</html>

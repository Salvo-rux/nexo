<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NEXO â€“ Il mio spazio personale</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- TOPBAR -->
  <header class="topbar">
    <div class="logo">NEXO</div>
    <nav class="menu">
      <a href="#chi">Viaggi & foto</a>
      <a href="#contenuti">Video</a>
    </nav>
  </header>

  <main>

    <!-- HERO -->
    <section class="section hero">
      <div class="section-inner">
        <span class="tagline">NEXO Â· HUB PERSONALE</span>
        <h1>Benvenuto su NEXO</h1>
        <p class="hero-text">
          Un luogo dove raccolgo quello che mi passa per la testa: pensieri, esperienze,
          prove, video e tutto quello che ho voglia di fissare da qualche parte.
        </p>
      </div>
    </section>

    <!-- I MIEI VIAGGI E LE MIE FOTO -->
    <section class="section" id="chi">
      <div class="section-inner">
        <h2>I miei viaggi e le mie foto</h2>
        <p>
          Qui raccolgo i posti in cui sono stato, le strade che mi sono rimaste in testa,
          le foto che mi piacciono di piÃ¹ e alcuni momenti che voglio ricordare.
          Ãˆ la mia piccola galleria personale dentro NEXO.
        </p>
      </div>
    </section>

    <!-- VIDEO -->
    <section class="section" id="contenuti">
      <div class="section-inner">
        <h2>Video</h2>
        <p>
          Qui raccolgo i miei video: Formula 1, crociere, simulatori di volo e tutto quello
          che mi va di rivedere quando voglio.
        </p>

        <!-- VIDEO 1 â€“ FORMULA 1 IMOLA -->
        <div class="post-box">
          <div class="post-inner">
            <h3>Formula 1 â€“ Imola</h3>
            <p>
              Video dedicato alla Formula 1 a Imola. Rumore dei motori, atmosfera e qualche
              inquadratura che mi piace rivedere ogni tanto.
            </p>

            <div class="video-wrapper">
              <iframe
                src="https://www.youtube.com/embed/Xl7S2kKIKPM"
                title="Formula 1 Imola"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen>
              </iframe>
            </div>

            <div class="reactions" style="margin-top:16px;">
              <span class="react" data-video="v1" data-react="fire">
                ðŸ”¥ <b class="count" data-video="v1" data-react="fire">0</b>
              </span>
              <span class="react" data-video="v1" data-react="heart">
                ðŸ’™ <b class="count" data-video="v1" data-react="heart">0</b>
              </span>
              <span class="react" data-video="v1" data-react="idea">
                ðŸ’¡ <b class="count" data-video="v1" data-react="idea">0</b>
              </span>
            </div>

            <div class="comment-area">
              <h4>Commenti (solo nel tuo browser)</h4>
              <p class="comment-note">
                I commenti vengono salvati solo sul tuo dispositivo. Nessun invio dati, nessun account richiesto.
              </p>

              <textarea class="comment-input" data-video="v1" placeholder="Scrivi un commento o una nota sul video..."></textarea>
              <button class="add-comment" data-video="v1">Aggiungi commento</button>

              <ul class="comment-list" data-video="v1"></ul>
            </div>
          </div>
        </div>

        <!-- VIDEO 2 â€“ CROCIERA -->
        <div class="post-box">
          <div class="post-inner">
            <h3>Crociera â€“ Momenti a bordo</h3>
            <p>
              Un poâ€™ di immagini dalla crociera: nave, mare, panorami e momenti rilassanti
              che vale la pena tenere qui dentro NEXO.
            </p>

            <div class="video-wrapper">
              <iframe
                src="https://www.youtube.com/embed/SwPbBWkm-Q4"
                title="Video crociera"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen>
              </iframe>
            </div>

            <div class="reactions" style="margin-top:16px;">
              <span class="react" data-video="v2" data-react="fire">
                ðŸ”¥ <b class="count" data-video="v2" data-react="fire">0</b>
              </span>
              <span class="react" data-video="v2" data-react="heart">
                ðŸ’™ <b class="count" data-video="v2" data-react="heart">0</b>
              </span>
              <span class="react" data-video="v2" data-react="idea">
                ðŸ’¡ <b class="count" data-video="v2" data-react="idea">0</b>
              </span>
            </div>

            <div class="comment-area">
              <h4>Commenti (solo nel tuo browser)</h4>
              <p class="comment-note">
                I commenti vengono salvati solo sul tuo dispositivo. Nessun invio dati, nessun account richiesto.
              </p>

              <textarea class="comment-input" data-video="v2" placeholder="Scrivi un commento o una nota sul video..."></textarea>
              <button class="add-comment" data-video="v2">Aggiungi commento</button>

              <ul class="comment-list" data-video="v2"></ul>
            </div>
          </div>
        </div>

        <!-- VIDEO 3 â€“ FLIGHT SIMULATOR PALERMO -->
        <div class="post-box">
          <div class="post-inner">
            <h3>Flight Simulator â€“ Atterraggio a Palermo</h3>
            <p>
              Atterraggio allâ€™aeroporto di Palermo in Flight Simulator. Perfetto per rivedere
              traiettoria, luci della pista e godersi lâ€™avvicinamento.
            </p>

            <div class="video-wrapper">
              <iframe
                src="https://www.youtube.com/embed/OZW5abfD-uY"
                title="Flight Simulator Palermo"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen>
              </iframe>
            </div>

            <div class="reactions" style="margin-top:16px;">
              <span class="react" data-video="v3" data-react="fire">
                ðŸ”¥ <b class="count" data-video="v3" data-react="fire">0</b>
              </span>
              <span class="react" data-video="v3" data-react="heart">
                ðŸ’™ <b class="count" data-video="v3" data-react="heart">0</b>
              </span>
              <span class="react" data-video="v3" data-react="idea">
                ðŸ’¡ <b class="count" data-video="v3" data-react="idea">0</b>
              </span>
            </div>

            <div class="comment-area">
              <h4>Commenti (solo nel tuo browser)</h4>
              <p class="comment-note">
                I commenti vengono salvati solo sul tuo dispositivo. Nessun invio dati, nessun account richiesto.
              </p>

              <textarea class="comment-input" data-video="v3" placeholder="Scrivi un commento o una nota sul video..."></textarea>
              <button class="add-comment" data-video="v3">Aggiungi commento</button>

              <ul class="comment-list" data-video="v3"></ul>
            </div>
          </div>
        </div>

      </div>
    </section>

    <div class="footer">
      Â© 2025 NEXO â€“ spazio personale Â· Versione di prova
    </div>

  </main>

  <!-- SCRIPT: LIKE + COMMENTI PER OGNI VIDEO -->
  <script>
    (function () {
      const STORAGE_KEY = "nexo_video_data";

      function loadStore() {
        try {
          return JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
        } catch (e) {
          return {};
        }
      }

      function saveStore(store) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(store));
      }

      function ensureVideo(store, id) {
        if (!store[id]) {
          store[id] = {
            likes: { fire: 0, heart: 0, idea: 0 },
            comments: []
          };
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        const store = loadStore();

        // Inizializza like
        document.querySelectorAll(".count").forEach(function (span) {
          const videoId = span.dataset.video;
          const reaction = span.dataset.react;
          ensureVideo(store, videoId);
          span.textContent = store[videoId].likes[reaction] || 0;
        });

        // Inizializza commenti
        document.querySelectorAll(".comment-list").forEach(function (list) {
          const videoId = list.dataset.video;
          ensureVideo(store, videoId);
          (store[videoId].comments || []).forEach(function (text) {
            const li = document.createElement("li");
            li.textContent = text;
            list.appendChild(li);
          });
        });

        // Gestione click sui like
        document.querySelectorAll(".react").forEach(function (btn) {
          btn.addEventListener("click", function () {
            const videoId = btn.dataset.video;
            const reaction = btn.dataset.react;
            ensureVideo(store, videoId);
            store[videoId].likes[reaction] = (store[videoId].likes[reaction] || 0) + 1;

            const span = document.querySelector(
              '.count[data-video="' + videoId + '"][data-react="' + reaction + '"]'
            );
            if (span) span.textContent = store[videoId].likes[reaction];
            saveStore(store);
          });
        });

        // Gestione commenti
        document.querySelectorAll(".add-comment").forEach(function (btn) {
          btn.addEventListener("click", function () {
            const videoId = btn.dataset.video;
            const input = document.querySelector('.comment-input[data-video="' + videoId + '"]');
            const list = document.querySelector('.comment-list[data-video="' + videoId + '"]');
            if (!input || !list) return;

            const text = (input.value || "").trim();
            if (!text) return;

            ensureVideo(store, videoId);
            store[videoId].comments.push(text);

            const li = document.createElement("li");
            li.textContent = text;
            list.appendChild(li);

            input.value = "";
            saveStore(store);
          });
        });
      });
    })();
  </script>

</body>
</html>
